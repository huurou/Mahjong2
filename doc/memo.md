# メモ

## 2025/04/28

数え役満のルールとダブル役満で矛盾が生じるかも
ダブル役満は26翻ということにしたいが、数え役満が13翻で打ち切りならただの役満扱いになってしまう
IsYakumanがTrueのときは26翻はダブル役満 IsYakumanがFalseのときは数え役満のルールに従うようにする必要がある

符と翻から点数を計算できるようになった

文字列から牌の集合を作るメソッドについて
数牌は数字でいいが、字牌をどうするか
前は数字だったが文字にしてみる？
東:t 南:n 西:s 北:p
白:h 發:r 中:c
發は白と被らないように緑發の頭文字でr

副露について
副露自体は鳴き種別を保持したTileListという感じ
和了判定に於いては手牌とは別のものとして考える

## 2025/04/27

何回やり直したかわからないが、改めて麻雀を作る
今回はAIの力も借りてGW中にある程度形にしたい

とりあえずいつもの点数計算ライブラリを作る

それができたら一人麻雀練習機を作っても良い
AIの実験にもなる

牌の集合の区切り方にはいつも悩まされる
とりあえず前と同じように牌<牌の集合<牌の集合の集合で作る

牌の数の配列はやらない
とてもいいアイデアではあるが、有効的な場面が限定的な気がする

テストコードをAIはいい感じに書いてくれるだろうか

できるだけrecordで頑張る

Tileの実装がまず悩ましい
案は2つ
- 牌種類プロパティを持ち、Tileレコードのインスタンスとする
- Tileレコードを継承した各種類のレコードを作成する
AIに聞いてみる
1つ目の案にしろと言われた
まあ気持ちはわかるけどなんとなく2つ目の案でやってみる
